{% load static tailwind_tags %}
{% tailwind_css %}
<div class="w-full h-full">
	<table id="parent" class="w-full border border-gray-300 border-solid table-fixed">
		<thead class="bg-gray-800 text-white h-[60px] border border-solid border-gray-300">
			<tr class="text-left">
				<th class="px-4 py-2">Full Name</th>
				<th class="px-4 py-2">Email Address</th>
				<th class="px-4 py-2">User Role</th>
				<th class="px-4 py-2">Action</th>
			</tr>
		</thead>
		<tbody class="w-full">
			{% for pending in pending_users %}
				<tr class="h-[50px] border border-solid border-gray-300">
					<td class="px-4 py-2">{{ pending.get_full_name }}</td>
					<td class="px-4 py-2">{{ pending.email }}</td>
					<td class="px-4 py-2">{{ pending.userprofile.role }}</td>
					<td class="px-4 py-2">
						<form>
							{% csrf_token %}
							<button class="border border-solid border-gray-300 cursor-pointer rounded-xl p-2 w-[30%] bg-black hover:bg-gray-200 text-white hover:text-black"
							id="approve-button"
							hx-post="{% url 'a_classroom:approve' pending.id %}"
							hx-trigger="click"
							hx-target="#parent"
							hx-swap="innerHTML">Approve</button>
						</form>

						<form class="pt-3">
							{% csrf_token %}
							<button class="border border-solid border-gray-300 cursor-pointer rounded-xl p-2 w-[30%] bg-red-600 hover:bg-red-500 text-black hover:text-black">Delete</button>
						</form>
					</td>
				</tr>
			{% empty %}
				<tr>
					<td colspan="4" class="py-4 text-center">No pending user available.</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
</div>